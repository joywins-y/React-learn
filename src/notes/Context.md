# Context

上下文：Context，表示做某一些事情的环境

React中的上下文特点：
1. 当某个组件创建了上下文后，上下文中的数据，会被所有后代组件共享
2. 如果某个组件依赖了上下文，会导致该组件不再纯粹（外部数据仅来源于属性props）
3. 一般情况下，用于第三方组件（通用组件）

### 旧的API

### 新的API

旧版API存在严重的效率问题，并且容易导致滥用

**创建上下文**

上下文是一个独立于组件的对象，该对象通过React.createContext(默认值)创建

返回的是一个包含两个属性的对象
1. Provider属性：生产者。一个组件，该组件会创建一个上下文，该组件有一个value属性。通过该属性，可以为其数据赋值。
   1. 同一个Provider不要用到多个组件中，如果需要在其他组件中使用该数据，应该考虑将数据提升到更高的层次。
2. Comsumer属性：

**使用上下文中的数据**

1. 在类组件中，直接使用this.context获取上下文数据
   1. 要求：必须拥有静态属性**contextType**，应赋值为创建的上下文对象
2. 在函数组件中，需要使用Comsumer来获取上下文数据
   1. Comsumer是一个组件
   2. 它的子节点是一个函数（它的props.children需要传递一个函数）


